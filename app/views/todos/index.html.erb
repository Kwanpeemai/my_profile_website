<div class="max-w-3xl mx-auto px-6 py-12">
  <!-- Page title -->
  <h1 class="text-3xl sm:text-4xl font-extrabold mb-8 text-center text-gray-900">
    ðŸš€ My Academy Quest
  </h1>
  <!-- Avatar (optional, subtle) -->
  <div class="flex justify-center mb-8">
    <%= image_tag "me.JPG",
        class: "w-32 h-32 sm:w-36 sm:h-36 rounded-full border-2 border-gray-200 shadow-sm object-cover" %>
  </div>
  <!-- Brag Document button -->
  <div class="flex justify-center mb-10">
    <%= link_to brag_path,
        class: "bg-gray-100 hover:bg-gray-200 text-gray-900 font-semibold px-6 py-3 rounded-lg shadow-sm transition transform hover:scale-105 flex items-center gap-2" do %>
      <span class="text-xl">ðŸ“„</span>
      <span class="text-base sm:text-lg">My Brag Document</span>
    <% end %>
  </div>
  <!-- Progress bar -->
  <%= render partial: "progress_bar" %>
  <!-- Add Task Form -->
  <%= render "todos/form", todo: Todo.new %>
  <!-- Doing tasks -->
  <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
    ðŸ“‹ Tasks to do (<%= @todos.doing.count %>)
  </h2>
  <ul class="mb-10 space-y-3">
    <% @todos.doing.each do |todo| %>
      <li class="flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition transform hover:-translate-y-0.5">
        <span class="text-gray-800 text-base break-words"><%= todo.title %></span>
        <div class="flex items-center gap-3">
          <%= link_to "âœ”", todo_path(todo), method: :patch,
              class: "text-green-500 hover:text-green-600 text-lg font-semibold px-2 rounded transition-transform transform hover:scale-110 focus:ring-1 focus:ring-green-200",
              title: "Mark as done",
              data: { "turbo-method": "patch" } %>
          <%= link_to "ðŸ—‘", todo_path(todo), method: :delete,
              class: "text-red-400 hover:text-red-500 text-lg font-semibold px-2 rounded transition-transform transform hover:scale-110 focus:ring-1 focus:ring-red-200",
              data: { turbo_method: :delete, confirm: "Delete this task?" },
              title: "Delete" %>
        </div>
      </li>
    <% end %>
    <% if @todos.doing.count == 0 %>
      <li class="text-gray-400 italic text-center py-6 text-base">ðŸŽ‰ All tasks are done!</li>
    <% end %>
  </ul>
  <!-- Done tasks -->
  <h2 class="text-xl font-semibold text-gray-700 mb-4 flex items-center gap-2">
    âœ… Done (<%= @todos.done.count %>)
  </h2>
  <ul class="space-y-3">
    <% @todos.done.each do |todo| %>
      <li class="flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg text-gray-500 shadow-sm">
        <span class="line-through text-base"><%= todo.title %></span>
        <%= link_to "ðŸ—‘", todo_path(todo), method: :delete,
            class: "text-red-400 hover:text-red-500 text-lg font-semibold px-2 rounded transition-transform transform hover:scale-110 focus:ring-1 focus:ring-red-200",
            data: { turbo_method: :delete, confirm: "Delete this task?" },
            title: "Delete" %>
      </li>
    <% end %>
    <% if @todos.done.count == 0 %>
      <li class="text-gray-400 italic text-center py-6 text-base">ðŸ’¤ No tasks completed yet</li>
    <% end %>
  </ul>
</div>
